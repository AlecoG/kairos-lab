---
import "../styles/tailwind.css";

interface Props {
  title: string;
  description: string;
  page: "home" | "catalogo" | "admin";
  includeStorefrontScripts?: boolean;
}

const { title, description, page, includeStorefrontScripts = true } = Astro.props;
const rawBase = import.meta.env.BASE_URL;
const base = rawBase.endsWith("/") ? rawBase : `${rawBase}/`;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <meta name="description" content={description} />
    <slot name="head" />
    <link rel="icon" href={`${base}favicon.ico`} sizes="any" />
  </head>
  <body class="m-0 bg-white text-[#111111] [font-family:ui-sans-serif,system-ui,-apple-system,Segoe_UI,Roboto,Arial,Noto_Sans,Helvetica_Neue,sans-serif]" data-page={page} data-base={base}>
    <slot />
    {
      includeStorefrontScripts && (
        <>
          <script src={`${base}products-data.js`}></script>
          <script src={`${base}product-store.js`}></script>
          <script src={`${base}app.js`}></script>
        </>
      )
    }
  </body>
</html>
